<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Caixa Premiada</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background: radial-gradient(circle, #111, #000);
  color: #fff;
  text-align: center;
  padding: 20px;
}

#instrucoes {
  background: #1c1c1c;
  border-radius: 10px;
  padding: 15px;
  max-width: 520px;
  margin: 10px auto 20px;
  font-size: 14px;
}

/* ğŸ”¥ CONTAINER GERAL */
#game {
  position: relative;
  width: 520px;
  margin: auto;
}

/* TABULEIRO */
#board {
  position: relative;
  width: 520px;
  height: 420px;
  margin: auto;
  z-index: 1;
}

/* STATUS SEMPRE NA FRENTE */
#status {
  position: relative;
  z-index: 10;
  margin-top: 15px;
  font-size: 16px;
  min-height: 40px;
}

/* CAIXAS */
.box {
  position: absolute;
  width: 90px;
  height: 80px;
  background: linear-gradient(135deg, #ff9800, #ff5722);
  border-radius: 12px;
  font-size: 18px;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: left 0.6s ease, top 0.6s ease, opacity 0.3s;
  z-index: 2;
}

.box:hover { transform: scale(1.05); }
.box.disabled { pointer-events: none; opacity: 0.4; }
.box.win { background: linear-gradient(135deg, #00e676, #00c853); }
.box.empty { background: #333; }
</style>
</head>

<body>

<h1>ğŸ Caixa Premiada</h1>

<div id="instrucoes">
ğŸ‘€ Observe os prÃªmios por <b>3 segundos</b><br>
ğŸ™ˆ Depois as caixas fecham e <b>se movem de verdade</b><br>
ğŸ§  Use a memÃ³ria e escolha <b>1 caixa</b><br>
ğŸ’¸ PrÃªmios: <b>R$1 â€¢ R$5 â€¢ R$10 â€¢ R$20 â€¢ R$50 â€¢ R$100</b>
</div>

<div id="game">
  <div id="board"></div>
  <div id="status">Memorize os prÃªmios...</div>
</div>

<script>
/* ================= CONFIG ================= */
const COLS = 5;
const TOTAL = 30;
const BOX_W = 100;
const BOX_H = 90;

/* ================= ESTADO ================= */
let caixas = [];
let jogou = false;

const board = document.getElementById("board");
const status = document.getElementById("status");

/* ================= POSIÃ‡ÃƒO ================= */
function posicao(index) {
  return {
    x: (index % COLS) * BOX_W,
    y: Math.floor(index / COLS) * BOX_H
  };
}

/* ================= GERAR CAIXAS ================= */
function gerarCaixas() {
  caixas = Array(TOTAL).fill(null);

  const premios = ["R$1","R$5","R$10","R$20","R$50","R$100"];
  const posicoes = [...Array(TOTAL).keys()].sort(() => Math.random() - 0.5);

  premios.forEach((premio, i) => {
    caixas[posicoes[i]] = premio;
  });
}

/* ================= CRIAR ELEMENTOS ================= */
function criarElementos() {
  board.innerHTML = "";

  caixas.forEach((valor, index) => {
    const box = document.createElement("div");
    box.className = "box";
    box.dataset.index = index;

    const p = posicao(index);
    box.style.left = p.x + "px";
    box.style.top = p.y + "px";

    box.innerText = valor ? valor : "ğŸ";
    box.onclick = () => escolher(box);

    board.appendChild(box);
  });
}

/* ================= MOSTRAR / ESCONDER ================= */
function mostrarPremios() {
  document.querySelectorAll(".box").forEach((box, i) => {
    box.innerText = caixas[i] ? caixas[i] : "ğŸ";
  });
}

function esconderPremios() {
  document.querySelectorAll(".box").forEach(box => {
    box.innerText = "ğŸ";
  });
}

/* ================= EMBARALHAR COM MOVIMENTO REAL ================= */
function embaralhar() {
  const novaOrdem = [...Array(TOTAL).keys()].sort(() => Math.random() - 0.5);

  novaOrdem.forEach((oldIndex, newPos) => {
    const box = document.querySelector(`.box[data-index='${oldIndex}']`);
    const p = posicao(newPos);
    box.style.left = p.x + "px";
    box.style.top = p.y + "px";
    box.dataset.index = newPos;
  });

  caixas = novaOrdem.map(i => caixas[i]);
}

/* ================= ESCOLHER ================= */
function escolher(box) {
  if (jogou) return;
  jogou = true;

  document.querySelectorAll(".box").forEach(b => b.classList.add("disabled"));

  const idx = Number(box.dataset.index);
  const valor = caixas[idx];

  if (valor) {
    box.classList.add("win");
    box.innerText = "ğŸ’°";
    status.innerHTML =
      `ğŸ‰ <b>PARABÃ‰NS!</b><br>VocÃª ganhou <b>${valor}</b><br>Receba seu Pix ğŸ’¸`;
  } else {
    box.classList.add("empty");
    status.innerText = "ğŸ˜ˆ NÃ£o foi dessa vezâ€¦";
  }
}

/* ================= START ================= */
function start() {
  jogou = false;
  gerarCaixas();
  criarElementos();

  status.innerText = "Memorize os prÃªmios...";
  mostrarPremios();

  setTimeout(() => {
    esconderPremios();
    embaralhar();
    status.innerText = "Escolha uma caixa ğŸ‘‡";
  }, 3000);
}

start();
</script>

</body>
</html>
