<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel do Campeonato OSS Jiu-J√≠tsu</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body {
  font-family: "Poppins", sans-serif;
  background-color: #0d0d0d;
  color: #fff;
  margin: 0;
  padding: 0;
}
header {
  background-color: #111;
  color: #f8b400;
  text-align: center;
  padding: 20px;
  font-size: 1.8em;
  font-weight: bold;
}
.kpi-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  padding: 20px;
}
.kpi {
  background: linear-gradient(135deg, #f8b400, #c38a00);
  color: #000;
  border-radius: 12px;
  width: 260px;
  text-align: center;
  padding: 20px;
  font-weight: bold;
  box-shadow: 0 0 15px rgba(0,0,0,0.3);
}
canvas {
  background: #1a1a1a;
  border-radius: 10px;
  padding: 10px;
  margin: 20px auto;
  display: block;
  max-width: 700px;
}
.table-container {
  overflow-x: auto;
  padding: 20px;
}
table {
  width: 100%;
  border-collapse: collapse;
  background-color: #111;
  color: #eee;
}
th, td {
  border: 1px solid #333;
  padding: 10px;
  text-align: center;
}
th {
  background-color: #f8b400;
  color: #000;
}
tfoot {
  font-weight: bold;
  background-color: #333;
}
</style>
</head>
<body>
<header>üèÜ Painel Interativo - Campeonato OSS Jiu-J√≠tsu</header>

<section class="kpi-container">
  <div class="kpi" id="kpi-equipes">Equipes: 0</div>
  <div class="kpi" id="kpi-atletas">Atletas: 0</div>
  <div class="kpi" id="kpi-torcedores">Torcedores: 0</div>
  <div class="kpi" id="kpi-receita">Receita Total: R$ 0,00</div>
</section>

<canvas id="graficoReceitas"></canvas>
<canvas id="graficoParticipantes"></canvas>

<div class="table-container">
  <table id="tabela-equipes">
    <thead>
      <tr>
        <th>#</th>
        <th>Equipe</th>
        <th>Atletas Pagantes</th>
        <th>Faixa-Preta</th>
        <th>Torcedores</th>
        <th>Receita (Inscri√ß√µes)</th>
        <th>Receita (Torcedores)</th>
        <th>Estacionamento</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody></tbody>
    <tfoot>
      <tr>
        <td colspan="8">TOTAL GERAL</td>
        <td id="totalGeral"></td>
      </tr>
    </tfoot>
  </table>
</div>

<script>
// ===============================
// Dados das equipes fict√≠cias
// ===============================
const equipes = [];
for (let i = 1; i <= 150; i++) {
  equipes.push({
    id: i,
    nome: `Equipe ${i}`,
    atletasPagantes: 10,
    faixaPreta: 1,
    torcedores: 22, // 2 por atleta (10+1=11) √ó 2 = 22
    valorAtleta: 200,
    ingresso: 30,
    estacionamento: 20
  });
}

// ===============================
// C√°lculos gerais
// ===============================
const totalEquipes = equipes.length;
const totalAtletas = equipes.reduce((acc) => acc + 11, 0) * totalEquipes / totalEquipes;
const totalTorcedores = totalAtletas * 2;
const receitaInscricao = equipes.length * 10 * 200;
const receitaTorcedores = totalTorcedores * 30;
const receitaEstacionamento = totalAtletas * 20;
const receitaTotal = receitaInscricao + receitaTorcedores + receitaEstacionamento;

// ===============================
// Atualiza KPIs
// ===============================
document.getElementById("kpi-equipes").innerText = `Equipes: ${totalEquipes}`;
document.getElementById("kpi-atletas").innerText = `Atletas: ${totalAtletas}`;
document.getElementById("kpi-torcedores").innerText = `Torcedores: ${totalTorcedores}`;
document.getElementById("kpi-receita").innerText = `Receita Total: R$ ${receitaTotal.toLocaleString('pt-BR')}`;

// ===============================
// Monta tabela
// ===============================
let totalGeral = 0;
const tbody = document.querySelector("#tabela-equipes tbody");

equipes.forEach(eq => {
  const receita1 = eq.atletasPagantes * eq.valorAtleta;
  const receita2 = eq.torcedores * eq.ingresso;
  const receita3 = (eq.atletasPagantes + eq.faixaPreta) * eq.estacionamento;
  const total = receita1 + receita2 + receita3;
  totalGeral += total;

  const tr = document.createElement("tr");
  tr.innerHTML = `
    <td>${eq.id}</td>
    <td>${eq.nome}</td>
    <td>${eq.atletasPagantes}</td>
    <td>${eq.faixaPreta}</td>
    <td>${eq.torcedores}</td>
    <td>R$ ${(receita1).toLocaleString('pt-BR')}</td>
    <td>R$ ${(receita2).toLocaleString('pt-BR')}</td>
    <td>R$ ${(receita3).toLocaleString('pt-BR')}</td>
    <td>R$ ${(total).toLocaleString('pt-BR')}</td>
  `;
  tbody.appendChild(tr);
});
document.getElementById("totalGeral").innerText = "R$ " + totalGeral.toLocaleString('pt-BR');

// ===============================
// Gr√°ficos interativos
// ===============================
const ctx1 = document.getElementById('graficoReceitas');
new Chart(ctx1, {
  type: 'bar',
  data: {
    labels: ['Inscri√ß√µes', 'Ingressos', 'Estacionamento'],
    datasets: [{
      label: 'Receita (R$)',
      data: [receitaInscricao, receitaTorcedores, receitaEstacionamento],
      backgroundColor: ['#f8b400', '#ffda77', '#c38a00']
    }]
  },
  options: {
    plugins: { legend: { labels: { color: '#fff' } } },
    scales: {
      x: { ticks: { color: '#fff' } },
      y: { ticks: { color: '#fff' } }
    }
  }
});

const ctx2 = document.getElementById('graficoParticipantes');
new Chart(ctx2, {
  type: 'pie',
  data: {
    labels: ['Atletas', 'Torcedores'],
    datasets: [{
      data: [totalAtletas, totalTorcedores],
      backgroundColor: ['#f8b400', '#555']
    }]
  },
  options: {
    plugins: { legend: { labels: { color: '#fff' } } }
  }
});
</script>
</body>
</html>