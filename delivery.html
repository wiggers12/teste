<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pro Sport - Campeonato OSS Jiu-J√≠tsu</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
body {font-family:"Poppins",sans-serif;background:#0d0d0d;color:#fff;margin:0;}
/* Splash */
#splash{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle,#000 40%,#111 100%);z-index:9999;animation:fadeOut 1s ease-in-out 2.5s forwards;}
#splash h1{font-size:3.6em;text-transform:uppercase;background:linear-gradient(90deg,#f8b400,#ffeb99,#f8b400);background-size:200% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 3s linear infinite;letter-spacing:4px;text-shadow:0 0 25px #f8b40055;}
@keyframes shine{0%{background-position:0%}100%{background-position:200% center}}@keyframes fadeOut{to{opacity:0;visibility:hidden}}
header{background:#111;color:#f8b400;text-align:center;padding:20px;font-size:1.8em;font-weight:bold;}
section{display:none;animation:fadeIn .6s ease}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}
/* Home */
#home{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:calc(100vh - 80px);}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:20px;width:80%;max-width:600px;}
.card{background:#1a1a1a;border:2px solid #333;border-radius:12px;padding:25px 10px;transition:.3s;cursor:pointer;box-shadow:0 0 10px rgba(0,0,0,.4);}
.card:hover{border-color:#f8b400;transform:scale(1.05);box-shadow:0 0 20px #f8b40033;}
.card i{font-size:2.5em;color:#f8b400;margin-bottom:10px;}
.card span{display:block;font-size:1.1em;color:#eee;}
button.voltar{margin:15px;background:#f8b400;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;font-weight:bold;}
.kpi-container{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;padding:20px;}
.kpi{background:linear-gradient(135deg,#f8b400,#c38a00);color:#000;border-radius:12px;width:260px;text-align:center;padding:20px;font-weight:bold;box-shadow:0 0 15px rgba(0,0,0,.3);}
canvas{background:#1a1a1a;border-radius:10px;padding:10px;margin:20px auto;display:block;max-width:700px;}
.table-container{overflow-x:auto;padding:20px;}
table{width:100%;border-collapse:collapse;background-color:#111;color:#eee;}
th,td{border:1px solid #333;padding:10px;text-align:center;}
th{background-color:#f8b400;color:#000;}tfoot{font-weight:bold;background-color:#333;}
.filtros{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin:10px auto;}
select,input{padding:10px;border-radius:8px;border:none;font-size:1em;}
#search{width:300px;text-align:center;}
#chaveamento{background:#111;border-top:2px solid #f8b400;margin:30px 0;padding:20px;}
.bracket{display:flex;flex-wrap:wrap;justify-content:center;gap:40px;}
.round{display:flex;flex-direction:column;gap:20px;}
.match{background:#222;border-left:4px solid #f8b400;padding:10px 15px;border-radius:6px;width:180px;}
.match span{display:block;padding:5px 0;font-size:0.9em;color:#ddd;}
h2{text-align:center;color:#f8b400;margin-top:10px;}
</style>
</head>
<body>

<div id="splash"><h1>Pro<span style="color:#fff">Sport</span></h1></div>

<header>üèÜ Campeonato OSS Jiu-J√≠tsu</header>

<!-- HOME -->
<section id="home">
  <h2 style="color:#f8b400;margin-bottom:20px;">Selecione o que deseja visualizar:</h2>
  <div class="grid">
    <div class="card" onclick="abrirSecao('painel')"><i class="fa-solid fa-chart-line"></i><span>Painel Financeiro</span></div>
    <div class="card" onclick="abrirSecao('equipes')"><i class="fa-solid fa-users"></i><span>Equipes & Categorias</span></div>
    <div class="card" onclick="abrirSecao('graficos')"><i class="fa-solid fa-chart-pie"></i><span>Gr√°ficos Financeiros</span></div>
    <div class="card" onclick="abrirSecao('chaveamento')"><i class="fa-solid fa-diagram-project"></i><span>Chaveamento</span></div>
  </div>
</section>

<!-- PAINEL -->
<section id="painel">
  <button class="voltar" onclick="voltarHome()">‚¨Ö Voltar</button>
  <div class="kpi-container">
    <div class="kpi" id="kpi-equipes">Equipes: 0</div>
    <div class="kpi" id="kpi-atletas">Atletas: 0</div>
    <div class="kpi" id="kpi-torcedores">Torcedores: 0</div>
    <div class="kpi" id="kpi-receita">Receita Total: R$ 0,00</div>
  </div>
</section>

<!-- EQUIPES -->
<section id="equipes">
  <button class="voltar" onclick="voltarHome()">‚¨Ö Voltar</button>
  <div class="table-container">
    <table id="tabela-equipes"><thead><tr>
      <th>#</th><th>Equipe</th><th>Categoria</th><th>Faixa</th>
      <th>Atletas</th><th>Torcedores</th><th>R$ Inscri√ß√µes</th>
      <th>R$ Ingressos</th><th>R$ Estacionamento</th><th>Total</th>
    </tr></thead><tbody></tbody><tfoot><tr><td colspan="9">TOTAL</td><td id="totalGeral"></td></tr></tfoot></table>
  </div>
</section>

<!-- GR√ÅFICOS -->
<section id="graficos">
  <button class="voltar" onclick="voltarHome()">‚¨Ö Voltar</button>
  <h2>üìä Gr√°ficos Financeiros do Campeonato</h2>
  <canvas id="graficoReceitas"></canvas>
  <canvas id="graficoParticipantes"></canvas>
  <canvas id="graficoEvolucao"></canvas>
</section>

<!-- CHAVEAMENTO -->
<section id="chaveamento">
  <button class="voltar" onclick="voltarHome()">‚¨Ö Voltar</button>
  <h2>üî∞ Chaveamento por Categoria</h2>
  <div class="filtros">
    <select id="filtroCategoria"><option value="">Selecione a Categoria</option></select>
    <select id="filtroFaixa"><option value="">Selecione a Faixa</option></select>
    <button onclick="gerarChaveamento()" style="background:#f8b400;color:#000;padding:10px 20px;border:none;border-radius:8px;cursor:pointer;">Gerar Chaveamento</button>
  </div>
  <div id="bracketContainer" class="bracket" style="margin-top:20px;"></div>
</section>

<script>
// ===== Navega√ß√£o =====
function abrirSecao(id){document.querySelectorAll("section").forEach(s=>s.style.display="none");document.getElementById(id).style.display="block";}
function voltarHome(){document.querySelectorAll("section").forEach(s=>s.style.display="none");document.getElementById("home").style.display="flex";}
setTimeout(()=>document.getElementById("home").style.display="flex",3000);

// ===== Dados Gerais =====
const categorias=["Pr√©-Mirim","Mirim","Infantil","Infanto-Juvenil","Juvenil","Adulto","Master 1"];
const faixas=["Branca","Azul","Roxa","Marrom","Preta"];
const equipes=[];let totalAtletas=1500;
for(let i=1;i<=150;i++){
  const atletas=i<150?Math.floor(Math.random()*15)+5:totalAtletas;totalAtletas-=atletas;
  equipes.push({id:i,nome:`Equipe ${i}`,categoria:categorias[Math.floor(Math.random()*categorias.length)],
    faixa:faixas[Math.floor(Math.random()*faixas.length)],atletasPagantes:atletas,torcedores:(atletas+1)*2,
    valorAtleta:200,ingresso:30,estacionamento:20});
}
if(totalAtletas>0)equipes[149].atletasPagantes+=totalAtletas;

// ===== C√°lculos Financeiros =====
const totalEquipes=equipes.length;
const totalTorcedores=equipes.reduce((s,e)=>s+e.torcedores,0);
const receitaInscricao=equipes.reduce((s,e)=>s+e.atletasPagantes*e.valorAtleta,0);
const receitaTorcedores=equipes.reduce((s,e)=>s+e.torcedores*e.ingresso,0);
const receitaEstacionamento=equipes.reduce((s,e)=>s+(e.atletasPagantes+1)*e.estacionamento,0);
const receitaTotal=receitaInscricao+receitaTorcedores+receitaEstacionamento;
const somaAtletas=equipes.reduce((s,e)=>s+e.atletasPagantes,0);

// ===== KPIs =====
document.getElementById("kpi-equipes").innerText=`Equipes: ${totalEquipes}`;
document.getElementById("kpi-atletas").innerText=`Atletas: ${somaAtletas}`;
document.getElementById("kpi-torcedores").innerText=`Torcedores: ${totalTorcedores}`;
document.getElementById("kpi-receita").innerText=`Receita Total: R$ ${receitaTotal.toLocaleString('pt-BR')}`;

// ===== Tabela =====
const tbody=document.querySelector("#tabela-equipes tbody");
function montarTabela(){
  tbody.innerHTML="";let total=0;
  equipes.forEach(eq=>{
    const r1=eq.atletasPagantes*eq.valorAtleta,r2=eq.torcedores*eq.ingresso,r3=(eq.atletasPagantes+1)*eq.estacionamento,t=r1+r2+r3;
    total+=t;
    tbody.innerHTML+=`<tr><td>${eq.id}</td><td>${eq.nome}</td><td>${eq.categoria}</td><td>${eq.faixa}</td><td>${eq.atletasPagantes}</td><td>${eq.torcedores}</td><td>R$ ${r1.toLocaleString('pt-BR')}</td><td>R$ ${r2.toLocaleString('pt-BR')}</td><td>R$ ${r3.toLocaleString('pt-BR')}</td><td>R$ ${t.toLocaleString('pt-BR')}</td></tr>`;
  });
  document.getElementById("totalGeral").innerText="R$ "+total.toLocaleString('pt-BR');
}
montarTabela();

// ===== Gr√°ficos (ligados ao painel) =====
new Chart(document.getElementById('graficoReceitas'),{
  type:'bar',
  data:{labels:['Inscri√ß√µes','Ingressos','Estacionamento'],
  datasets:[{label:'Receita (R$)',data:[receitaInscricao,receitaTorcedores,receitaEstacionamento],
  backgroundColor:['#f8b400','#ffda77','#c38a00']}]},
  options:{plugins:{legend:{labels:{color:'#fff'}}},
  scales:{x:{ticks:{color:'#fff'}},y:{ticks:{color:'#fff'}}}}});

new Chart(document.getElementById('graficoParticipantes'),{
  type:'doughnut',
  data:{labels:['Atletas','Torcedores'],
  datasets:[{data:[somaAtletas,totalTorcedores],
  backgroundColor:['#f8b400','#444'],hoverOffset:10}]},
  options:{plugins:{legend:{labels:{color:'#fff',font:{size:14}}}}}});

new Chart(document.getElementById('graficoEvolucao'),{
  type:'line',
  data:{labels:['Inscri√ß√µes','Ingressos','Estacionamento'],
  datasets:[{label:'Tend√™ncia de Receita',
  data:[receitaInscricao*0.8,receitaTorcedores*1.1,receitaEstacionamento*1.3],
  borderColor:'#f8b400',backgroundColor:'#f8b40033',tension:0.3,fill:true}]},
  options:{plugins:{legend:{labels:{color:'#fff'}}},
  scales:{x:{ticks:{color:'#fff'}},y:{ticks:{color:'#fff'}}}}});

// ===== Chaveamento =====
const catSel=document.getElementById("filtroCategoria"),faixaSel=document.getElementById("filtroFaixa");
categorias.forEach(c=>catSel.innerHTML+=`<option value="${c}">${c}</option>`);
faixas.forEach(f=>faixaSel.innerHTML+=`<option value="${f}">${f}</option>`);
function gerarChaveamento(){
  const cat=catSel.value,faixa=faixaSel.value,div=document.getElementById("bracketContainer");
  div.innerHTML="";if(!cat||!faixa){div.innerHTML="<p style='color:#aaa;text-align:center;'>Selecione categoria e faixa.</p>";return;}
  const participantes=[];for(let i=0;i<16;i++){const e=equipes[Math.floor(Math.random()*equipes.length)];
  participantes.push(`${e.nome} (${cat}-${faixa})`);}
  const rounds=[[],[],[],[]];for(let i=0;i<8;i++)rounds[0].push([participantes[i*2],participantes[i*2+1]]);
  rounds[1]=Array(4).fill(["Vencedor 1","Vencedor 2"]);
  rounds[2]=Array(2).fill(["Semifinalista 1","Semifinalista 2"]);
  rounds[3]=Array(1).fill(["Finalista 1","Finalista 2"]);
  rounds.forEach((r,idx)=>{
    const rd=document.createElement("div");rd.classList.add("round");
    rd.innerHTML=`<h3>Rodada ${idx+1}</h3>`;
    r.forEach(m=>{const mdiv=document.createElement("div");mdiv.classList.add("match");mdiv.innerHTML=`<span>${m[0]}</span><span>vs</span><span>${m[1]}</span>`;rd.appendChild(mdiv);});
    div.appendChild(rd);
  });
}
</script>
</body>
</html>